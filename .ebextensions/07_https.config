option_settings:
  # Application Load Balancer の設定
  aws:elasticbeanstalk:environment:process:default:
    Port: 8000
    Protocol: HTTP
    HealthCheckPath: /health
    HealthCheckInterval: 30
    HealthCheckTimeout: 5
    HealthyThresholdCount: 3
    UnhealthyThresholdCount: 5
    StickinessEnabled: true
    StickinessLBCookieDuration: 86400
    
  # ロードバランサーのリスナー設定（HTTPS）
  aws:elbv2:listener:443:
    ListenerEnabled: true
    Protocol: HTTPS
    SSLCertificateArns: arn:aws:acm:ap-northeast-1:740336593677:certificate/d1347bc4-e900-40d7-9f91-e4b40f761a7f
    
  # ロードバランサーのリスナー設定（HTTP）
  aws:elbv2:listener:80:
    ListenerEnabled: true
    Protocol: HTTP

  # ロードバランサーの環境タイプ設定
  aws:elasticbeanstalk:environment:
    EnvironmentType: LoadBalanced
    LoadBalancerType: application

# Nginx設定は09_alb_redirect.configに統合済み 